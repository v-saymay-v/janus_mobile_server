function DatepickerAcc(){_inputObj=null;focusId=null;this._keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};this._monthNames=null}$.extend(DatepickerAcc.prototype,{dayTripper:function(){var a=this;$(".ui-datepicker-trigger").click(function(){a.supportAccess()})},supportAccess:function(a){var b=this;b.focusId=a;setTimeout(function(){$(".ui-datepicker-current").hide();var c=$(".ui-datepicker-today a")[0];if(!c){c=$(".ui-state-active")[0]||$(".ui-state-default")[0]}c.focus();b._inputObj=$.datepicker._lastInput;b.datePickHandler();$(document).on("click","#ui-datepicker-div .ui-datepicker-close",function(){b.closeCalendar()})},0)},datePickHandler:function(){var g=this;var f;var b=document.getElementById("ui-datepicker-div");var c=$.datepicker._lastInput;if(!b||!c){return}b.setAttribute("role","application");b.setAttribute("aria-label","Calendar view date-picker");var e=$(".ui-datepicker-prev",b)[0],d=$(".ui-datepicker-next",b)[0];d.href="javascript:void(0)";e.href="javascript:void(0)";d.setAttribute("role","button");d.removeAttribute("title");e.setAttribute("role","button");e.removeAttribute("title");g.appendOffscreenMonthText(d);g.appendOffscreenMonthText(e);$(d).on("click",g.handleNextClicks);$(e).on("click",g.handlePrevClicks);g.monthDayYearText();$(b).off("keydown").on("keydown",function a(j){var m=j.which;var k=j.target;var i=g.getCurrentDate(b);if(!i){i=$("a.ui-state-default")[0];g.setHighlightState(i,b)}if(27===m){j.stopPropagation();return g.closeCalendar()}else{if(m===9&&j.shiftKey){j.preventDefault();if($(k).hasClass("ui-datepicker-close")){if($(".ui-datepicker-next").hasClass("ui-state-disabled")){$(".ui-datepicker-next")[0].setAttribute("aria-disabled",true)}else{$(".ui-datepicker-next")[0].removeAttribute("aria-disabled")}$(".ui-datepicker-next")[0].focus()}else{if($(k).hasClass("ui-state-default")){$(".ui-datepicker-close")[0].focus()}else{if($(k).hasClass("ui-datepicker-next")){if($(".ui-datepicker-prev").hasClass("ui-state-disabled")){$(".ui-datepicker-prev")[0].setAttribute("aria-disabled",true)}else{$(".ui-datepicker-prev")[0].removeAttribute("aria-disabled")}$(".ui-datepicker-prev")[0].focus()}else{if($(k).hasClass("ui-datepicker-prev")){f=$(".ui-state-highlight")||$(".ui-state-active")[0];if(f){f.focus()}}}}}}else{if(m===9){j.preventDefault();if($(k).hasClass("ui-datepicker-close")){f=$(".ui-state-highlight")||$(".ui-state-active")[0];if(f){f.focus()}}else{if($(k).hasClass("ui-state-default")){if($(".ui-datepicker-prev").hasClass("ui-state-disabled")){$(".ui-datepicker-prev")[0].setAttribute("aria-disabled",true)}else{$(".ui-datepicker-prev")[0].removeAttribute("aria-disabled")}$(".ui-datepicker-prev")[0].focus()}else{if($(k).hasClass("ui-datepicker-prev")){if($(".ui-datepicker-next").hasClass("ui-state-disabled")){$(".ui-datepicker-next")[0].setAttribute("aria-disabled",true)}else{$(".ui-datepicker-next")[0].removeAttribute("aria-disabled")}$(".ui-datepicker-next")[0].focus()}else{if($(k).hasClass("ui-datepicker-next")){$(".ui-datepicker-close")[0].focus()}}}}}else{if(m===37){if(!$(k).hasClass("ui-datepicker-close")&&$(k).hasClass("ui-state-default")){j.preventDefault();g.previousDay(k)}}else{if(m===39){if(!$(k).hasClass("ui-datepicker-close")&&$(k).hasClass("ui-state-default")){j.preventDefault();g.nextDay(k)}}else{if(m===38){if(!$(k).hasClass("ui-datepicker-close")&&$(k).hasClass("ui-state-default")){j.preventDefault();g.upHandler(k,b,e)}}else{if(m===40){if(!$(k).hasClass("ui-datepicker-close")&&$(k).hasClass("ui-state-default")){j.preventDefault();g.downHandler(k,b,d)}}else{if(m===13){if($(k).hasClass("ui-state-default")){setTimeout(function(){g.closeCalendar()},100)}else{if($(k).hasClass("ui-datepicker-prev")){g.handlePrevClicks()}else{if($(k).hasClass("ui-datepicker-next")){g.handleNextClicks()}}}}else{if(32===m){if($(k).hasClass("ui-datepicker-prev")||$(k).hasClass("ui-datepicker-next")){k.click()}}else{if(33===m){g.moveOneMonth(k,"prev")}else{if(34===m){g.moveOneMonth(k,"next")}else{if(36===m){var l=$(k).closest("tbody").find(".ui-state-default")[0];if(l){l.focus();g.setHighlightState(l,$("#ui-datepicker-div")[0])}}else{if(35===m){var h=$(k).closest("tbody").find(".ui-state-default");var n=h[h.length-1];if(n){n.focus();g.setHighlightState(n,$("#ui-datepicker-div")[0])}}}}}}}}}}}}}}$(".ui-datepicker-current").hide()})},closeCalendar:function(){var b=$("#ui-datepicker-div");$(b).off("keydown");var c=this._inputObj;$(c).datepicker("hide");if(this.focusId!=undefined){var a=$("#"+this.focusId);a.focus();$(a).one("click",function(){c.focus()});$(a).one("blur",function(){$(this).unbind()})}else{c.focus()}},isOdd:function(a){return a%2},moveOneMonth:function(c,d){var g=this;var e=(d==="next")?$(".ui-datepicker-next")[0]:$(".ui-datepicker-prev")[0];if(!e){return}var a="#ui-datepicker-div tbody td:not(.ui-state-disabled)";var b=$(a);var f=$.inArray(c.parentNode,b);e.click();setTimeout(function(){g.updateHeaderElements();var h=$(a);var i=h[f];var j=i&&$(i).find("a")[0];while(!j){f--;i=h[f];j=i&&$(i).find("a")[0]}g.setHighlightState(j,$("#ui-datepicker-div")[0]);j.focus()},0)},handleNextClicks:function(){setTimeout(function(){$.datepickeracc.updateHeaderElements();$.datepickeracc.prepHighlightState();$(".ui-datepicker-next").focus();$(".ui-datepicker-current").hide()},0)},handlePrevClicks:function(){setTimeout(function(){$.datepickeracc.updateHeaderElements();$.datepickeracc.prepHighlightState();$(".ui-datepicker-prev").focus();$(".ui-datepicker-current").hide()},0)},previousDay:function(c){var a=document.getElementById("ui-datepicker-div");if(!c){return}var e=$(c).closest("td");if(!e){return}var d=$(e).prev(),b=$("a.ui-state-default",d)[0];if(d&&b){this.setHighlightState(b,a);b.focus()}else{this.handlePrevious(c)}},handlePrevious:function(e){var g=this;var b=document.getElementById("ui-datepicker-div");if(!e){return}var d=$(e).closest("tr");if(!d){return}var a=$(d).prev();if(!a||a.length===0){g.previousMonth()}else{var f=$("td a.ui-state-default",a);var c=f[f.length-1];if(c){setTimeout(function(){g.setHighlightState(c,b);c.focus()},0)}}},previousMonth:function(){var c=this;var b=$(".ui-datepicker-prev")[0];var a=document.getElementById("ui-datepicker-div");b.click();setTimeout(function(){var d=$("tr",a),f=$("td a.ui-state-default",d[d.length-1]),e=f[f.length-1];c.updateHeaderElements();c.setHighlightState(e,a);e.focus()},0)},nextDay:function(d){var b=document.getElementById("ui-datepicker-div");if(!d){return}var e=$(d).closest("td");if(!e){return}var c=$(e).next(),a=$("a.ui-state-default",c)[0];if(c&&a){this.setHighlightState(a,b);a.focus()}else{this.handleNext(d)}},handleNext:function(e){var a=document.getElementById("ui-datepicker-div");if(!e){return}var b=$(e).closest("tr"),d=$(b).next();if(!d||d.length===0){this.nextMonth()}else{var c=$("a.ui-state-default",d)[0];if(c){this.setHighlightState(c,a);c.focus()}}},nextMonth:function(){var b=this;nextMon=$(".ui-datepicker-next")[0];var a=document.getElementById("ui-datepicker-div");nextMon.click();setTimeout(function(){b.updateHeaderElements();var c=$("a.ui-state-default",a)[0];b.setHighlightState(c,a);c.focus()},0)},upHandler:function(j,l,i){var h=this;i=$(".ui-datepicker-prev")[0];var d=$(j).closest("tr");if(!d){return}var k=$("td",d),b=$("a.ui-state-default",d),e=$.inArray(j,b),c=$(d).prev(),a=$("td",c),g=a[e],f=$("a.ui-state-default",g)[0];if(c&&g&&f){h.setHighlightState(f,l);f.focus()}else{i.click();setTimeout(function(){h.updateHeaderElements();var t=$("tr",l),v=t[t.length-1],q=$("td",v),r=$.inArray(j.parentNode,k),u=q[r],s=$("a.ui-state-default",u)[0];if(v&&u&&s){h.setHighlightState(s,l);s.focus()}else{var p=t[t.length-2],n=$("td",p),m=n[r],o=$("a.ui-state-default",m)[0];if(o){h.setHighlightState(o,l);o.focus()}}},0)}},downHandler:function(g,k,i){var e=this;i=$(".ui-datepicker-next")[0];var b=$(g).closest("tr");if(!b){return}var f=$("td",b),h=$.inArray(g.parentNode,f),j=$(b).next(),a=$("td",j),d=a[h],c=$("a.ui-state-default",d)[0];if(j&&d&&c){e.setHighlightState(c,k);c.focus()}else{i.click();setTimeout(function(){e.updateHeaderElements();var n=$("tbody tr",k),q=$("td",n[0]),o=q[h],s=$("a.ui-state-default",o)[0];if(o&&s){e.setHighlightState(s,k);s.focus()}else{var m=n[1],r=$("td",m),l=r[h],p=$("a.ui-state-default",l)[0];if(m&&p){e.setHighlightState(p,k);p.focus()}}},0)}},onCalendarHide:function(){this.closeCalendar()},monthDayYearText:function(){var d=this;var a=$(".amaze-date");$(a).each(function(e){e.parentNode.removeChild(e)});var b=document.getElementById("ui-datepicker-div");if(!b){return}var c=$("a.ui-state-default",b);$(c).attr("role","button").on("keydown",function(f){if(f.which===32){f.preventDefault();f.target.click();setTimeout(function(){d.closeCalendar()},100)}});$(c).each(function(i,f){var n=$(f).closest("tr"),g=$("td",n),k=$.inArray(f.parentNode,g),p=$("thead tr th",b),e=p[k],j=$("span",e)[0],o=$(".ui-datepicker-month",b)[0].innerHTML,m=$(".ui-datepicker-year",b)[0].innerHTML,h=f.innerHTML;if(!j||!o||!h||!m){return}var l=o+" "+f.innerHTML+" "+m+" "+j.title;f.setAttribute("aria-label",l)})},updateHeaderElements:function(){var b=this;var a=document.getElementById("ui-datepicker-div");if(!a){return}prev=$(".ui-datepicker-prev",a)[0];next=$(".ui-datepicker-next",a)[0];next.href="javascript:void(0)";prev.href="javascript:void(0)";next.setAttribute("role","button");prev.setAttribute("role","button");b.appendOffscreenMonthText(next);b.appendOffscreenMonthText(prev);$(next).on("click",b.handleNextClicks);$(prev).on("click",b.handlePrevClicks);b.monthDayYearText()},prepHighlightState:function(){var b;var a=document.getElementById("ui-datepicker-div");b=$(".ui-state-highlight",a)[0]||$(".ui-state-default",a)[0];if(b&&a){this.setHighlightState(b,a)}},setHighlightState:function(c,a){var b=this.getCurrentDate(a);$(b).removeClass("ui-state-highlight");$(c).addClass("ui-state-highlight")},getCurrentDate:function(b){var a=$(".ui-state-highlight",b)[0];return a},appendOffscreenMonthText:function(d){var g;var f=$(d).hasClass("ui-datepicker-next");var a=["january","february","march","april","may","june","july","august","september","october","november","december"];if(this._monthNames){a=this._monthNames}var e=$(".ui-datepicker-title .ui-datepicker-month").text().toLowerCase();var h=$.inArray(e.toLowerCase(),a);var c=$(".ui-datepicker-title .ui-datepicker-year").text().toLowerCase();var b=(f)?h+1:h-1;if(f&&e==="december"){c=parseInt(c,10)+1;b=0}else{if(!f&&e==="january"){c=parseInt(c,10)-1;b=a.length-1}}g=(f)?"Next Month, "+this.firstToCap(a[b])+" "+c:"Previous Month, "+this.firstToCap(a[b])+" "+c;$(d).find(".ui-icon").html(g)},firstToCap:function(a){return a}});$.fn.datepickeracc=function(){$.datepickeracc.dayTripper()};$.datepickeracc=new DatepickerAcc();$.datepickeracc.uuid=new Date().getTime();$.datepickeracc.version="1.0.0";